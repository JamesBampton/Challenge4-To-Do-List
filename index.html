<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>To Do List</title>

    <!-- Custom Goole Font-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Pacifico">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <script src="scripts/myscripts.js"></script>
    <link rel="stylesheet" href="styles/mystyles.css">
</head>

<body>
    <header>
        <div class="container-fluid p-5 bg-primary text-white text-center">
            <h1>JAMES BAMPTON</h1>
            <p>To Do List</p>
        </div>

    </header>

    <section>

        <div class="container mt-5">
            <div class="row">
                <div class="col-sm-4 card">
                    <h3>HOME</h3>
                    <ul id="homeList">
                    </ul>
                    <button id="add">ADD</button>
                    <button onclick="deleteFunction()">DELETE</button>
                    <button onclick="editFunction()">EDIT</button>

                </div>
                <div class="col-sm-4 card">
                    <h3>WORK</h3>
                    <ul id="workList">
                    </ul>
                    <button id="addW">ADD</button>
                    <button onclick="deleteFunction()">DELETE</button>
                    <button onclick="editFunctionW()">EDIT</button>
                </div>
                <div class="col-sm-4 card">
                    <h3>SOCIAL</h3>
                    <ul class="" id="socialList">
                    </ul>
                    <button id="addS">ADD</button>
                    <button onclick="deleteFunction()">DELETE</button>
                    <button onclick="editFunctionS()">EDIT</button>
                </div>
            </div>
        </div>
    </section>

    <footer>

        <br><br><br>

        <div class="container mt-5">
            <div class="row">
                <div class="col-sm-6">
                    <h3>Column 1</h3>
                    <p>Lorem</p>
                    <p>Ut enim</p>
                </div>
                <div class="col-sm-6">
                    <h3>Column 2</h3>
                    <p>Lorem</p>
                    <p>Ut enim</p>
                </div>

            </div>
        </div>

    </footer>

    </script>

    <!-- MODAL FOR HOME -->

    <div id="addModal" class="modal fade" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ADD ITEMS</h5>
                </div>
                <div class="modal-body">

                    <section class="services">

                        <form>
                            <label for="task">Task:</label><br>
                            <input type="text" id="task" name="task" value="Sleep"><br><br>
                            <input onclick='onClickaddButton()' id="addButton" type="button" value="Submit">
                        </form>

                        <p>Enter you task and submit</p>

                    </section>
                </div>
                <div class="modal-footer">
                    <button id="close-but" type="button" class="btn btn-secondary"
                        data-bs-dismiss="modal">Close</button>
                    <!-- button type="button" class="btn btn-primary">Save</button-->
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL FOR WORK -->

    <div id="addModalW" class="modal fade" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ADD ITEMS</h5>
                </div>
                <div class="modal-body">

                    <section class="services">

                        <form>
                            <label for="taskW">Task:</label><br>
                            <input type="text" id="taskW" name="taskW" value="Sleep"><br><br>
                            <input onclick='onClickaddButtonW()' id="addButtonW" type="button" value="Submit">
                        </form>

                        <p>Enter you task and submit</p>

                    </section>
                </div>
                <div class="modal-footer">
                    <button id="close-but" type="button" class="btn btn-secondary"
                        data-bs-dismiss="modal">Close</button>
                    <!-- button type="button" class="btn btn-primary">Save</button-->
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL FOR SOCIAL -->

    <div id="addModalS" class="modal fade" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ADD ITEMS</h5>
                </div>
                <div class="modal-body">

                    <section class="services">

                        <form>
                            <label for="taskS">Task:</label><br>
                            <input type="text" id="taskS" name="taskS" value="Sleep"><br><br>
                            <input onclick='onClickaddButtonS()' id="addButtonS" type="button" value="Submit">
                        </form>

                        <p>Enter you task and submit</p>

                    </section>
                </div>
                <div class="modal-footer">
                    <button id="close-but" type="button" class="btn btn-secondary"
                        data-bs-dismiss="modal">Close</button>
                    <!-- button type="button" class="btn btn-primary">Save</button-->
                </div>
            </div>
        </div>
    </div>


    <!-- THE DELTET FUNCTIONS -->

    <script>

        function deleteFunction() {

            // Get all the checkboxes in the homeList
            const checkboxes = document.querySelectorAll('#homeList input[type="checkbox"]');// create new variable containing a node list of ALL checkbox elements with the homelist ID
            // Loop through each checkbox
            checkboxes.forEach(checkbox => { // For each checkbox, detemine if the checkbox is ticked/selected
                // If the checkbox is checked, remove the parent list item
                if (checkbox.checked) {
                    checkbox.parentElement.remove();
                }
            });

            // Get all the checkboxes in the homeList workList
            const workCheckboxes = document.querySelectorAll('#workList input[type="checkbox"]');
            workCheckboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    checkbox.parentElement.remove();
                }
            });
            //Get all the checkboxes in the socialList
            const socialCheckboxes = document.querySelectorAll('#socialList input[type="checkbox"]');
            socialCheckboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    checkbox.parentElement.remove();
                }
            });
        }
    </script>

    <!-- THE EDIT FUNCTIONS -->

    <script>
        function editFunction() {
            // quesrySelectorAll to get all the checkboxes from the homeList
            const checkboxes = document.querySelectorAll('#homeList input[type="checkbox"]');//create new variable to store the node list
            checkboxes.forEach(checkbox => { //Loop through each object in the nide list and check if its ticked
                if (checkbox.checked) {
                    // If ticked get the parent list item
                    const listItem = checkbox.parentElement;
                    // Get the current text content of the list item
                    const currentText = listItem.textContent.replace('✓', '').trim(); // Remove checkbox text if present
                    // Prompt the user for new text
                    const newText = prompt("Edit your task:", currentText);
                    // If the user entered new text, update the list item
                    if (newText !== null && newText.trim() !== "") {
                        listItem.textContent = newText; // Update the text content of the list item
                        listItem.appendChild(checkbox); // Re-append the checkbox to keep it in place
                        // Clear checkbox
                        checkbox.checked = ""; // Clear the checkbox after edit
                    }
                }
            })
        }

        function editFunctionW() {
            // quesrySelectorAll to get all the checkboxes from the homeList
            const checkboxes = document.querySelectorAll('#workList input[type="checkbox"]');//create new variable to store the node list
            checkboxes.forEach(checkbox => { //Loop through each object in the nide list and check if its ticked
                if (checkbox.checked) {
                    // If ticked get the parent list item
                    const listItem = checkbox.parentElement;
                    // Get the current text content of the list item
                    const currentText = listItem.textContent.replace('✓', '').trim(); // Remove checkbox text if present
                    // Prompt the user for new text
                    const newText = prompt("Edit your task:", currentText);
                    // If the user entered new text, update the list item
                    if (newText !== null && newText.trim() !== "") {
                        listItem.textContent = newText; // Update the text content of the list item
                        listItem.appendChild(checkbox); // Re-append the checkbox to keep it in place
                        // Clear checkbox
                        checkbox.checked = ""; // Clear the checkbox after edit
                    }
                }
            })

        }

        function editFunctionS() {
            // quesrySelectorAll to get all the checkboxes from the homeList
            const checkboxes = document.querySelectorAll('#socialList input[type="checkbox"]');//create new variable to store the node list
            checkboxes.forEach(checkbox => { //Loop through each object in the nide list and check if its ticked
                if (checkbox.checked) {
                    // If ticked get the parent list item
                    const listItem = checkbox.parentElement;
                    // Get the current text content of the list item
                    const currentText = listItem.textContent.replace('✓', '').trim(); // Remove checkbox text if present
                    // Prompt the user for new text
                    const newText = prompt("Edit your task:", currentText);
                    // If the user entered new text, update the list item
                    if (newText !== null && newText.trim() !== "") {
                        listItem.textContent = newText; // Update the text content of the list item
                        listItem.appendChild(checkbox); // Re-append the checkbox to keep it in place
                        // Clear checkbox
                        checkbox.checked = ""; // Clear the checkbox after edit
                    }
                }
            })


        }

    </script>

    <script>

        //HOME LIST ADD FUNCTION
        function onClickaddButton() {

            // SET VARIABLES
            var task = document.getElementById("task"); // 1. use document.getElementById to select the task input  
            var addButton = document.getElementById("addButton");//


            // Creat a new array to hold the tasks
            var input = task.value.trim()
            var newTask = { task: input }; //New variable to hold new input object
            homeArray.push(newTask); // Push new object to the array

            // Create the new list item and append to the UI elelment
            const listItem = document.createElement("li");
            listItem.textContent = newTask.task; // Set the text content of the list item to the new task 
            listItem.classList.add('checkbox-inline'); // Add class to the list item          

            const checkbox = document.createElement('input'); // Create checkbox
            checkbox.type = 'checkbox'; // Set type to checkbox
            //checkbox.value = newTask.task; // Set value to the item text
            checkbox.id = `task-${homeArray.length}`; // Set a unique ID for the checkbox
            checkbox.classList.add('checkbox-input'); // Add class to the checkbox for

            // Add new item
            document.getElementById("homeList").appendChild(listItem);
            //Add checkbox
            listItem.appendChild(checkbox);
            //Add checkbox
            //document.getElementById("homeList").appendChild(checkbox);

            // Add class to the list ( needs to be done after the li element is created and appended)
            const element = document.querySelector('#homeList li');
            console.log(element);
            element.classList.add('listClass'); // Add class to the list item
            //document.getElementById("#homeList li").appendChild(element); ( not needed as already appended above)

            // Clear the input value
            task.value = ""; // Clear the input field after adding the task

            const myNodeList = document.getElementById("homeList").getElementsByTagName("li");
            console.log(myNodeList);
        }
        //FUNCTION END 


        //WORK LIST ADD FUNCTION
        function onClickaddButtonW() {

            // SET VARIABLES
            var taskW = document.getElementById("taskW"); // 1. use document.getElementById to select the task input
            var addButtonw = document.getElementById("addButtonW");

            // Creat a new array to hold the tasks
            var input = taskW.value.trim()
            var newTaskW = { taskW: input }; //New variable to hold new input object
            workArray.push(newTaskW); // Push new object to the array

            // Create the new list item and append to the UI elelment
            const listItemW = document.createElement("li");
            listItemW.textContent = newTaskW.taskW;
            listItemW.classList.add('checkbox-inline'); // Add class to the list item

            const checkbox = document.createElement('input'); // Create checkbox
            checkbox.type = 'checkbox'; // Set type to checkbox
            checkbox.id = `taskW-${homeArray.length}`;
            checkbox.classList.add('checkbox-input'); // Add class to the checkbox for

            // Add new item
            document.getElementById("workList").appendChild(listItemW);
            //Add checkbox
            listItemW.appendChild(checkbox);

            // Add class to the list ( needs to be done after the li element is created and appended)
            const element = document.querySelector('#workList li');
            console.log(element);
            element.classList.add('listClass'); // Add class to the list item
            //document.getElementById("#homeList li").appendChild(element); ( not needed as already appended above)

            // Clear the input value
            //input.taskW = "";
            taskW.value = ""; // Clear the input field after adding the task

            const workNodeList = document.getElementById("workList").getElementsByTagName("li");
            console.log(workNodeList);
        }
        //FUNCTION END 

        //SOCIAL LIST ADD FUNCTION
        function onClickaddButtonS() {

            // SET VARIABLES
            var taskS = document.getElementById("taskS"); // 1. use document.getElementById to select the task input
            var addButtonS = document.getElementById("addButtonS");

            // Creat a new array to hold the tasks
            var input = taskS.value.trim()
            var newTaskS = { taskS: input }; //New variable to hold new input object
            socialArray.push(newTaskS); // Push new object to the array

            // Create the new list item and append to the UI elelment
            const listItemS = document.createElement("li");
            listItemS.textContent = newTaskS.taskS;
            listItemS.classList.add('checkbox-inline'); // Add class to the list item

            const checkbox = document.createElement('input'); // Create checkbox
            checkbox.type = 'checkbox'; // Set type to checkbox
            checkbox.id = `taskS-${socialArray.length}`;
            checkbox.classList.add('checkbox-input'); // Add class to the checkbox for

            // Add new item
            document.getElementById("socialList").appendChild(listItemS);
            //Add checkbox
            listItemS.appendChild(checkbox);

            // Add listClass class to the list ( needs to be done after the li element is created and appended)
            const element = document.querySelector('#socialList li');
            console.log(element);
            element.classList.add('listClass'); // Add class to the list item

            // Clear the input value
            //input.taskS = "";
            taskS.value = ""; // Clear the input field after adding the task

            const socialNodeList = document.getElementById("socialList").getElementsByTagName("li");
            console.log(socialNodeList);
        }
        //FUNCTION END 


        //FIRE UP MODALS
        // Add event listeners to the buttons to show the modals

        //Home Modal
        document.getElementById('add').addEventListener('click', function () {
            const modalElement = document.getElementById('addModal');
            const modalInstance = new bootstrap.Modal(modalElement);
            modalInstance.show();
        });
        //Work Modal
        document.getElementById('addW').addEventListener('click', function () {
            const modalElement = document.getElementById('addModalW');
            const modalInstance = new bootstrap.Modal(modalElement);
            modalInstance.show();
        });
        //Social Modal
        document.getElementById('addS').addEventListener('click', function () {
            const modalElement = document.getElementById('addModalS');
            const modalInstance = new bootstrap.Modal(modalElement);
            modalInstance.show();
        });



    </script>

</body>

</html>